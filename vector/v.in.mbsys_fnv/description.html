<H2>DESCRIPTION</H2>

This module will import <tt>.fnv</tt> format navigation files generated
by <a href="http://www.ldeo.columbia.edu/res/pi/MB-System/">MB-System</a>.
Ship's track and swath coverage information may be imported in a number
of different ways.


<H2>NOTES</H2>

Geodesic line length/swath width (in meters) is provided for the <i>track</i>
line and <i>scanline</i> types, and geodesic area (in square meters) is given
for the swath coverage type.
<P>
The databases for <i>port_trk</i> and <i>stbd_trk</i> line maps contain
the ship's <i>center track line</i> lat/lon starting and ending position,
not the starting and ending position of the outward beams. Positions
for the start and end points of the outward beams are encoded in the
map data and may be extracted with e.g. the <em>v.to.db</em> module.
<P>
If you want to patch the tracks together later it is suggested to extract
some sort of integer from the input filename to set as the category
number. GRASS vector maps must have SQL compliant names, i.e. they
may not start with a number or contain characters such as "." or "-".


<H2>EXAMPLE</H2>

Here is a loop to read in all the maps listed in the
<tt>datalist-1</tt> file and import tracks and swath coverages for them.
Category is simply left as an incrementing number as naming schemes will
be dataset or equipment specific.

<div class="code"><pre>
for TYPE in track swath ; do
   COUNT=0
   for TRACK in `cut -f1 -d' ' datalist-1` ; do
      COUNT=`expr $COUNT + 1`
      OUTNAME="${TYPE}_$( echo "`basename $TRACK .fnv`" | sed -e 's/[- .]/_/g' )"
      echo "Importing <$OUTNAME> ..."

      v.in.mbsys_fnv in="${TRACK}.fnv" out="$OUTNAME" type=$TYPE cat=$COUNT
   done
done
</pre></div>

Here is an example of how you might derive a category number from the filename,
in this case it is concatenating the Julian day with the hour/minute timestamp:
<div class="code"><pre>
#FILENAME="MB2004-132-1219.xtf.fnv"
OUTNAME=track_MB2004_132_1219_xtf

CAT=`echo "$OUTNAME" | cut -f3,4 -d'_' | tr -d '_'`

# cat is now set as 1321219
</pre></div>


The <em>v.patch</em> module can be used to group many scan lines together
into the same map:
<div class="code"><pre>
v.patch -e in=`g.mlist type=vect pattern=trk_* sep=,` out=all_tracks \
   bbox=all_tracks_bbox
</pre></div>


<H2>SEE ALSO</H2>
<em>
<A HREF="v.in.ascii.html">v.in.ascii</A><br>
<A HREF="v.in.mapgen.html">v.in.mapgen</A><br>
<A HREF="r.in.xyz.html">r.in.xyz</A><br>
<A HREF="v.patch.html">v.patch</A><br>
<A HREF="v.to.db.html">v.to.db</A>
</em>
<BR><BR>
<a href="http://www.ldeo.columbia.edu/res/pi/MB-System/">MB-System</a>
 software for multibeam and sidescan sonar processing


<H2>AUTHOR</H2>

Hamish Bowman<BR>
<i>Dept. Marine Science<br>
University of Otago<br>
Dunedin, New Zealand</i>
<BR>

<p>
<i>Last changed: $Date$</i>
