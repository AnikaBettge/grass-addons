<h2>DESCRIPTION</h2>

<p><b>Trim redundant category labels and colors</b>
<p>In GRASS you can 'cut out' a subset of a larger raster layer by 
setting the extent to something smaller then the extent of the 
original map using g.region and/or by setting a mask using r.mask, 
after which you simply run r.mapcalc "newmap = oldmap".

<p>You may have noticed that when creating the new map, all category 
category labels and colour table of the original map are copied over 
to the new map, even for category values that are not in the new 
map. If you are working with categorical maps, this may not be what 
you want. See <a href=
"https://pvanb.wordpress.com/2015/09/22/categorical-maps-and-legends/"
>here</a> for a more detailed discussion.

<p>With this addon you can trim the category and colour tables so it 
only contains category labels and colour definitions for the values 
present in the new map. You can do this on the input map, or do this 
on a copy of the map.

<p><b>Recode to consecutive category values</b>
<p>If you prefer the map to have consecutive values (i.e., without 
gaps), there is the option to change the category values to a 
consecutive series by setting the n-flag. For example, if the map 
has the following categories values and labels (after the redundant 
category labels have been removed):

<div class="code"><pre>2 label2
5 label5
9 label9
</pre></div>

<p>Then the new recoded layer will have the category values and labels:

<div class="code"><pre>1 label2
2 label5
3 label9
</pre></div>

<p><b>Export QGIS color map file</b> <p>The addon let's you export 
the categories, category labels and colours as QGIS colour map file. 
This is just a simple text file with the raster categories and 
corresponding colour definitions and category labels. QGIS can use 
this to set the colour and labels for a raster layer. See <a href= 
"https://pvanb.wordpress.com/grass-gis-categorical-raster-layers-in-qg
is">this blogpost</a> for more details how to use the colour map 
file in QGIS. Alternatively, you can also export the categories and 
category labels as a normal comma separated calues (CSV) file file, 
which can be easily viewed in a spreadsheet program such as 
Libre/Open Office Calc, Microsoft Excel, or Google Docs and can be 
easily shared together with an exported raster file for users that 
use other GIS programs


<h2>NOTE</h2> The file is only useful for categorical maps. 
Therefore only integer maps are accepted as input.

<p>When you use the option to recode the map, you need to set an 
output map as well. It uses the <a href="r.recode">r.recode </a> 
function, with the 'a' flag set, i.e., the region is 
aligned to the input raster map.
   
<h2>Examples</h2>
See <a href="https://pvanb.wordpress.com/grass-gis-categorical-raster-layers-in-qgis">here</a> for examples

<h2>See also</h2>
<a href="r.recode.html">r.recode</a>,
<a href="r.category.html">r.category</a>,
<a href="r.colors.html">r.colors</a>,
<a href="r.describe.html">r.describe</a>

<h2>AUTHOR</h2>

Paulo van Breugel, paulo at ecodiv.org

<p><em>Last changed: $Date$</em>
