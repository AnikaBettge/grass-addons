<h2>DESCRIPTION</h2>

<p>
In this script surface roughness is taken as the dispersion of vectors 
normal to surface areas (pixels). Normal vectors are defined by slope 
and aspect. 
</p>

<p>
This script will create several temporary maps, for the directional 
cosines in each direction (x,y,z), for the sum of these cosines and 
vector strength. 
</p>

<p>
The options <em>compass</em>, <em>colatitude</em>, <em>xcos</em>, 
<em>ycosm</em> and <em>zcos</em> are created as temporary files each 
time the script is run.
</p>

<p>
If the user wants to create several map (with different window sizes, 
for instance), it is recommended to create those maps with 
<em>r.mapcalc</em> and use them as input:
</p>

<div class="code">
 <pre>
  r.mapcalc compass = "if(aspect==0,0,if(aspect &lt; 90, 90-aspect, 360+90-aspect))"
  r.mapcalc colatitude = "90 -&nbsp;slope"
  r.mapcalc xcos = "sin(colatitude)*cos(compass)"
  r.mapcalc ycos = "sin(colatitude)*sin(compass)"
  r.mapcalc zcos = "cos(colatitude)"
 </pre>
</div>

<p>
If the user does not specify the output maps names, they will be set to
</p>

<div class="code">
 <pre>
  <em>INPUT_MAP_vector_strength_NxN</em>
 </pre>
</div>

and

<div class="code">
 <pre>
  <em>INPUT_MAP_fisher_K_NxN</em>
 </pre>
</div>

where N is the window size.

<h2>EXAMPLE</h2>

<div class="code">
 <pre>
  # calculate roughness factor by search window = 5
  r.roughness.vector elevation=DEM slope=slope aspect=aspect window=5
 </pre>
</div>

<h2>SEE ALSO</h2>

<em>
<a href="r.mapcalc.html">r.mapcalc</a>,
<a href="r.slope.aspect.html">r.slope.aspect</a>
</em>

<h2>REFERENCES</h2>

<p>
Hobson, R.D., 1972. Surface roughness in topography: quantitative 
approach. In: Chorley, R.J. (ed). <em>Spatial analysis in 
geomorphology</em>. Methuer, London, p.225-245.
<br>
<br>
McKean, J. &amp; Roering, J., 2004. <em>Objective landslide detection 
and surface morphology mapping using high-resolution airborne laser 
altimetry. Geomorphology</em>, 57:331-351.
</p>

<h2>AUTHORS</h2>

Carlos Henrique Grohmann - Institute of Energy and Environment, University of São Paulo, Brazil<br>
Helmut Kudrnovsky
<p>

<i>Last changed: $Date$</i>