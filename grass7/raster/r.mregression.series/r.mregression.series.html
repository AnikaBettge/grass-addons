<h2>DESCRIPTION</h2>

<em>r.mregression.series</em> is a module to calculate multiple 
linear regression parameters between several time series, e.g. NDVI and
elevation, precipitation.
<p>
The module makes each output cell value a function of the values
assigned to the corresponding cells in the input raster map series.

<h2>DESCRIPTION</h2>

The module assumes a simple linear regression of the form
<div class="code"><pre>
    Y = b1 * X1 + b2 * X2 + ... + bn * Xn 
</pre></div>
<p>

<h2>NOTES</h2>

The number of maps in <em>X</em> and <em>Y</em> must be 
identical.
<p>
The list of inputs for each cell (including NULLs) is passed to the 
regression function. The functin compute the parameters over the 
non-NULL values, producing a NULL result only if there aren't enough 
non-NULL values for computing.
<p>
Linear regression  requires an equal number of <em>X</em> and 
<em>Y</em> maps.  If the different time series have irregular 
time intervals, NULL raster maps can be inserted into time series to
make time intervals equal. 

<h2>EXAMPLES</h2>
The most important paramether is <em>samples</em>, it provides the list
of <em>X</em> and <em>Y</em> maps. The parameter is the name of csv file
of the next structure: the first line is a header, other lines provide names
of the <em>X</em> and <em>Y</em> maps. The header contains the names of the
input and output variables.
<p>
For example the csv file for regression between NDVI and (elevation, 
precipitation)
<div class="code"><pre>
    NDVI = b1*Elevation + b2*Precipitation 
</pre></div>
could be the next file:
<div class="code"><pre>
y,elevation,precipipation
ndvi_1,elev_1,precip_1
ndvi_2,elev_2,precip_2
...
ndvi_n,elev_n,precip_n
</pre></div>
"ndvi_t" are names of the NDVI rasters, "precip_t" are names 
of precipitation rasters. The names of the first and the 
second variables are "elevation" and "precipitation" accordingly.
<p>
The second paramether is  <em>result_prefix</em>. It is used for 
coefficient names construction. For example if result_prefix="coef.",
the names of the regression coefficient names are "coef.elevation"
and "coef.precipitation".

<div class="code"><pre>
r.mregression.series samples=settings result_prefix="coef."
</pre></div>

<p>
If the regression model includes the intercept 
<div class="code"><pre>
    NDVI = b0 + b1*Elevation + b2*Precipitation 
</pre></div>
then the constant map should be used:
<div class="code"><pre>
r.mapcalc "ones = 1.0"
</pre></div>
and the csv file is:
<div class="code"><pre>
y,offset,elevation,precipipation
ndvi_1,ones,elev_1,precip_1
ndvi_2,ones,elev_2,precip_2
...
ndvi_n,ones,elev_n,precip_n
</pre></div>
Then the command
<div class="code"><pre>
r.mregression.series samples=settings result_prefix="coef."
</pre></div>
produces three raster maps: "coef.offset", "coef.elevation", "coef.precipitation".    

<h2>SEE ALSO</h2>

<em><a href="addons/r.regression.series.html">r.regression.series</a></em>,
<em><a href="r.series.html">r.series</a></em>,
<em><a href="r.regression.line.html">r.regression.line</a></em>,
<em><a href="g.list.html">g.list</a></em>,
<em><a href="g.region.html">g.region</a></em>

<h2>AUTHOR</h2>

Dmitry Kolesov

<p><i>Last changed: $Date$</i>
