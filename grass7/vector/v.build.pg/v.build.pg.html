<h2>DESCRIPTION</h2>

<em>v.build.pg</em> builds PostGIS topology for feature tables linked
via <em><a href="v.external.html">v.external</a></em>.

<h2>NOTES</h2>

Note
that <a href="http://trac.osgeo.org/postgis/wiki/UsersWikiPostgisTopology">PostGIS
Topology</a> extension is currently under
development. <em>v.build.pg</em> requires <b>PostGIS 2.0.0+</b>.

<p>
Existing PostGIS topology schema can be overwrite by <b>--overwrite</b> flag.

<p>
<em>v.build.pg</em> calls PostGIS functions:
<ol>
  <li><a href="http://www.postgis.org/documentation/manual-svn/CreateTopology.html">CreateTopology()</a>
    to create topology schema in the database,</li>
  <li><a href="http://www.postgis.org/documentation/manual-svn/AddTopoGeometryColumn.html">AddTopoGeometryColumn()</a>
    to add a topogeometry column to an existing feature table, and</li>
  <li><a href="http://www.postgis.org/documentation/manual-svn/toTopoGeom.html">toTopoGeom()</a>
  to create a new topo geometry from the simple feature geometry.</li>
</ol>

<h2>EXAMPLES</h2>

<h3>Workflow example</h3>

Export vector map into PostGIS:

<div class="code"><pre>
v.out.ogr dsn=PG:dbname=pgis_nc input=bridges format=PostgreSQL
</pre></div>

Create a new vector map as a link to PostGIS table:

<div class="code"><pre>
v.external dsn=PG:dbname=pgis_nc layer=bridges
</pre></div>

Check metadata:

<div class="code"><pre>
v.info map=bridges

...
 |----------------------------------------------------------------------------|
 | Map format:      PostGIS (PostgreSQL)                                      |
 | DB table:        public.bridges                                            |
 | DB name:         pgis_nc                                                   |
 | Geometry column: wkb_geometry                                              |
 | Feature type:    point                                                     |
 |----------------------------------------------------------------------------|
...
</pre></div>

Build PostGIS topology for the link:

<div class="code"><pre>
v.build.pg map=bridges

...
Topology topo_bridges (6), SRID 900914, precision 1
10938 nodes, 0 edges, 0 faces, 10938 topogeoms in 1 layers
Layer 1, type Puntal (1), 10938 topogeoms
 Deploy: public.bridges.topo
...
</pre></div>

<h2>AUTHOR</h2>

Martin Landa, Czech Technical University in Prague

<p>
<i>Last changed: $Date$</i>
