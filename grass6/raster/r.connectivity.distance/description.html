<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>GRASS GIS manual: r.connectivity.distance</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">

<img src="grass_logo.png" alt="GRASS logo"><hr align=center size=6 noshade>

<h2>NAME</h2>
<em><b>r.connectivity.distance</b></em>  - Compute cost-distance between all polygons (patches) of an input vector map within a user defined euclidean distance threshold
<h2>KEYWORDS</h2>
<dl>
raster, vector, connectivity, distance, network
</dl>

<h2>SYNOPSIS</h2>
<b>r.connectivity.distance</b><br>
<b>r.connectivity.distance help</b><br>
<b>r.connectivity.distance</b> [-<b>ste</b>] <b>patches</b>=<em>patches (input)</em>  [<b>costs</b>=<em>costs (input)</em>]  <b>pop_proxy</b>=<em>pop_proxy</em> <b>prefix</b>=<em>string</em> <b>folder</b>=<em>string</em>  [<b>cutoff</b>=<em>float</em>]   [<b>border_dist</b>=<em>integer</em>]   [--<b>verbose</b>]  [--<b>quiet</b>] 

<h3>Flags:</h3>
<dl>
<dt><b>-s</b></dt>
<dd>Extract and save short paths and closest points into a vector map</dd>

<dt><b>-t</b></dt>
<dd>Rasterize patches with "all-touched" option using GDAL (can useful for narrow patches). This can be time consuming.</dd>

<dt><b>-e</b></dt>
<dd>Use euclidean distance (not cost distance)</dd>

<dt><b>--verbose</b></dt>
<dd>Verbose module output</dd>
<dt><b>--quiet</b></dt>
<dd>Quiet module output</dd>
</dl>

<h3>Parameters:</h3>
<dl>
<dt><b>folder</b>=<em>string</em></dt>
<dd>Folder where all (non map) output from r.connectivity.* is stored (output)</dd>

<dt><b>patches</b>=<em>string</em></dt>
<dd>Name of input vector map containing patches (input)</dd>

<dt><b>costs</b>=<em>string</em></dt>
<dd>Name of input costs raster map (input)</dd>

<dt><b>pop_proxy</b>=<em>string</em></dt>
<dd>Column containig proxy for population size (attribute values must be numeric and neither values &lt;= 0 nor NULL allowed!)</dd>

<dt><b>prefix</b>=<em>string</em></dt>
<dd>Prefix for output maps of the r.connectivity.*-tools. Also temporary data uses this prefix.</dd>

<dt><b>cutoff</b>=<em>float</em></dt>
<dd>Maximum euclidean search distance around patches in map units</dd>
<dd>Default: <em>10000</em></dd>

<dt><b>border_dist</b>=<em>integer</em></dt>
<dd>Number of border cells used for distance measuring</dd>
<dd>Default: <em>50</em></dd>
</dl>

<h2>DESCRIPTION</h2>

Recently, graph-theory has been characterised as an efficient and useful tool for conservation planning (e.g. Bunn et al. 2000, Calabrese & Fagan 2004, Minor et al. 2008, Zetterberg et. al. 2010). As a part of the r.connectivity.* tool-chain, r.connectivity.distance is intended to make graph-theory more easily available to conservation planning.
<br><br>
r.connectivity.distance is the first tool of the r.connectivity.*-toolchain (followed by r.connectivity.network and r.connectivity.corridor).
<br><br>
r.connectivity.distance loops through all polygons in the input vector map and calculates the cost-distance to all the other polygons within a user-defined defined Euclidean distance threshold. It produces three csv-files containing an edge-list (connections between patches) and a vertex-list (patches) in two parts.
<br><br>
The edge-list csv-file structure (edges.csv) looks like this:
<dl>
<dd><em><b>from_patch,to_patch,cost-distance</b></em></dd>
<dd><em>1,2,150</em></dd>
<dd><em>1,3,75</em></dd>
<dd><em>...</em></dd>
</dl>
<dl>
The vertex-list consists of two parts:
<dd>-  one part containing the coordinates of the centroids of the input polygons (only for visualisation purposes (not for analysis) ("vertices_part_1.csv") and</dd>
<dd>-  one part containing a population proxy (values of an attribute column from the input patch vector map (both specified by the user)), representing a proxy for the amount of organisms potentially dispersing from a patch (e.g. habitat area) ("vertices_part_2.csv").</dd>
</dl><br>
The structure of the vertices_part_1.csv looks like this:
<dl>
<dd><em><b>patch_id;cetroid_x_coordinate;cetroid_y_coordinate</b></em></dd>
<dd><em>1;796973.455617378;7874304.58988322</em></dd>
<dd><em>2;1028575.90731092;7909142.41545215</em></dd>
<dd><em>...</em></dd>
</dl>
<br>
The structure of the vertices_part_2.csv looks like this:
<dl>
<dd><em><b>patch_id;population_proxy</b></em></dd>
<dd><em>1;20.7652</em></dd>
<dd><em>2;74.0114</em></dd>
<dd><em>...</em></dd>
</dl>
<br>
The map output of r.connectivity.distance is a (cost) distance raster map for every input polygon which later on are used in r.connectivity.corridors (together with output from r.connectivity.network) for corridor identification. All non map output is stored in a folder, which will be used throughout the entire r.connectivity toolchain. Output-files are: vertices_part_1.csv, vertices_part_2.csv, edges.csv and a log-file (r_connectivity.log). The log-file is used to store and document settings of the tools and to pass arguments to the following tools of the toolchain.
<br><br>
Distance is measured as border to border distance. The user can define the number of cells (n) along the border to be used for distance measuring. The distance from a (start) polygon to another (end) is measured as the n-th closest cell on the border of the other (end) polygon. An increased number of border cells used for distance measuring affects (increases) also the width of possible corridors computed with r.connectivity.corridor.


<h2>SEE ALSO</h2>
<a href="r.connectivity.network">r.connectivity.network</a>, <a href="r.connectivity.corridors">r.connectivity.corridors</a><br>


<h2>AUTHOR</h2>
Stefan Blumentrath, Norwegian Institute for Nature Research (NINA)

<i>Last changed: $Date$</i>

</body>
</html>
